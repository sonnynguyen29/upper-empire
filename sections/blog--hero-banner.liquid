{% comment %} sections/blog--hero-banner.liquid {% endcomment %}

<div class="blog-hero {% if section.settings.enable_parallax %}blog-hero--parallax{% endif %}">
  {% if section.settings.hero_banner_image %}
    {{
      section.settings.hero_banner_image
      | image_url: width: 2000
      | image_tag: class: 'blog-hero__image', alt: section.settings.hero_banner_image.alt, loading: 'eager'
    }}
  {% endif %}
</div>

{% schema %}
{
  "name": "Blog Hero Banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "hero_banner_image",
      "label": "Hero Banner Image"
    },
    {
      "type": "checkbox",
      "id": "enable_parallax",
      "label": "Enable Parallax Effect",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Blog Hero Banner",
      "category": "Blog"
    }
  ]
}
{% endschema %}

{% stylesheet %}
.blog-hero {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 300px;
  overflow: hidden;
}

.blog-hero__image {
  min-height: 300px;
  max-height: 600px;
  height: 120%; /* Make image taller for parallax */
  object-fit: cover;
  width: 100%;
}

@media (min-width: 1200px) {
  .blog-hero {
    padding: 0 8px;
    border-radius: 8px; /* Add border-radius to container */
    overflow: hidden; /* Ensure image respects container's border-radius */
  }

  .blog-hero__image {
    border-radius: 8px; /* Keep border-radius on image as well for smoother appearance */
  }
}

@media (max-width: 1199px) {
  .blog-hero,
  .blog-hero__image {
    border-radius: 0;
  }
}
{% endstylesheet %}

{% javascript %}
  if (document.querySelector('.blog-hero--parallax')) {
    const parallaxImage = document.querySelector('.blog-hero--parallax .blog-hero__image');

    window.addEventListener(
      'scroll',
      () => {
        // Simple parallax: move image up as user scrolls down
        const scrolled = window.pageYOffset;
        parallaxImage.style.transform = `translateY(${scrolled * 0.5}px)`;
      },
      { passive: true }
    );
  }
{% endjavascript %}
